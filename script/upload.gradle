ext {
    parseLocalProperties = this.&parseLocalProperties
}

def parseLocalProperties() {
    def file = rootProject.file('local.properties')
    if (file.exists()) {
        def inputStream = rootProject.file('local.properties').newDataInputStream();
        def properties = new Properties()
        properties.load(inputStream)
        properties.propertyNames().each {
            ext.set(it, properties.getProperty(it))
        }
    }
}
parseLocalProperties()